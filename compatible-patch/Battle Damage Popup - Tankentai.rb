#==============================================================================
# ■ Sprite_Battler
#==============================================================================

class Game_Actor < Game_Battler
  
  #--------------------------------------------------------------------------
  # new method: screen_x
  #--------------------------------------------------------------------------
  def screen_x
    @sv.x / 100
  end

  #--------------------------------------------------------------------------
  # new method: screen_y
  #--------------------------------------------------------------------------
  def screen_y
    @sv.y / 100
  end

  #--------------------------------------------------------------------------
  # new method: screen_z
  #--------------------------------------------------------------------------
  def screen_z
    999
  end
  
end # Game_Actor

#==============================================================================
# ■ Sprite_PopupLuna
#==============================================================================

class Sprite_PopupLuna < Sprite
  
  #--------------------------------------------------------------------------
  # start_effect
  #--------------------------------------------------------------------------
  alias tankentai_start_effect start_effect
  def start_effect
    tankentai_start_effect
    start_tankentai
  end
  
  #--------------------------------------------------------------------------
  # start_tankentai
  #--------------------------------------------------------------------------
  def start_tankentai
    return if disposed?
    @base_x = self.x
    @base_y = self.y
  end
  
  #--------------------------------------------------------------------------
  # update_move
  #--------------------------------------------------------------------------
  def update_move
    @base_x += @move_x
    @base_y += @move_y
    self.x = (@base_x - $sv_camera.x) * $sv_camera.zoom
    self.y = (@base_y - $sv_camera.y) * $sv_camera.zoom
    @move_y += @gravity
  end
  
end # Sprite_PopupLuna